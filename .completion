_completemarks() {
  local curw=${COMP_WORDS[COMP_CWORD]}
	# type 'l' refers to symbolic links.
	local wordlist=$(find $MARKPATH -type l -printf "%f\n")
	COMPREPLY=($(compgen -W '${wordlist[@]}' -- "$curw"))
	return 0
}

complete -F _completemarks to mark

_vcshcomplete() {
  local curw=${COMP_WORDS[COMP_CWORD]}
	# local wordlist=$(find $HOME/.config/vcsh/repo.d -maxdepth 1 -type d -printf "%f\n")
	local wordlist=$( for i in $( find $HOME/.config/vcsh/repo.d -maxdepth 1 -type d -printf "%f\n" ); do
	  echo $(basename $i .git); done )
	COMPREPLY=($(compgen -W '${wordlist[@]}' -- "$curw"))
	return 0
}

complete -F _vcshcomplete vcsh

_completeTags() {
	local curw=${COMP_WORDS[COMP_CWORD]}
	# type 'd' refers to directories.
	local wordlist=$(find $TAGPATH -type d -printf "%f\n")
	COMPREPLY=($(compgen -W '${wordlist[@]}' -- "$curw"))
	return 0
}

complete -F _completeTags tag bookmark
complete -F _completeTags tag bm
